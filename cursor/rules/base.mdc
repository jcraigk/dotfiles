---
description: Rules for every session
globs: ["**/*"]
alwaysApply: true
---

# Git

CRITICAL: Never git commit without explicit instructions from me.

CRITICAL: Comments in generated code and specs should be kept to bare minimum.

Commit messages must be a single line, 20–80 characters, in imperative mood.

Branch names must be 5–25 characters, using only lowercase letters and dashes.


# Terminal

NEVER `cd` into the current project directory to run a command - you're already there!

NEVER run `rails console`. Use `rails runner` instead.

Using rails runner:
- When inserting Ruby code into `bin/rails runner`, wrap the whole snippet in single quotes unless you need shell interpolation.
- If you must use double quotes, escape all Ruby globals like `$stdout` and `$stderr` as `\\$stdout` / `\\$stderr`.
- Do not pipe `| cat` after runner commands.
- For multi-line snippets, use a heredoc (`<<'RUBY'`) or a .rb file instead of inline double quotes.

If you're having trouble with ruby versions when running ruby commands in a terminal, run "$(mise activate zsh)" first.
